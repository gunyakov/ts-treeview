(()=>{"use strict";var t;!function(t){t.edit="edit",t.click="click",t.dblclick="dblclick"}(t||(t={}));var e=[];function i(t,i,o,n,s,r){void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===s&&(s=!1),void 0===r&&(r=!1);var l=e[t];l?l(i,o,n,s,r):console.log("Callback ".concat(t," have no assigned function."))}function o(t,e){return void 0===e&&(e=[]),function(t,e){return e.length>0&&e.forEach((function(e){t.classList.add(e)})),t}(document.createElement(t),e)}var n=function(){return n=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},n.apply(this,arguments)},s=function(t,e,i){if(i||2===arguments.length)for(var o,n=0,s=e.length;n<s;n++)!o&&n in e||(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};const r=function(){function r(t){var e=this;this._el=null,this._options={element:"treeview",class:["treeview","w-20","border","my-4"],header:"Demo header",headerClass:["pt-3","pl-3"],editable:!1,items:[],listClass:["mb-1","pl-3","pb-2"],subListClass:["nested"],listSubClass:["closed"],listSubArrowClass:["fas","fa-angle-right","rotate"],itemClass:[]},this._options=n(n({},this._options),t),this._el=document.getElementById(this._options.element),this._el&&(this._options.class.forEach((function(t){var i;null===(i=e._el)||void 0===i||i.classList.add(t)})),this._options.items.length>0&&this._drawHTML(),this._init())}return r.prototype.setElements=function(t){t&&(null==t||t.length)},r.prototype.on=function(i,o){!function(i,o){Object.values(t).includes(i)?e[i]=o:console.log("Wrong event type. Pls check it again",i)}(i,o)},r.prototype._init=function(){var t,e=null===(t=this._el)||void 0===t?void 0:t.getElementsByTagName("ul")[0];void 0!==e&&this._events(e)},r.prototype._events=function(e,n){var s=this;if(void 0===n&&(n=""),void 0!==e)for(var r=e.children,l=function(e){var l=r[e],p=0==n.length?e.toString():n+":"+e.toString();l.getAttribute("tl-id")||l.setAttribute("tl-id",p);var d=l.getElementsByTagName("ul")[0],c=l.getElementsByTagName("a")[0];d&&c?(a._events(d,p),null==c||c.addEventListener("click",(function(e){e.stopPropagation(),i(t.click,l.getAttribute("tl-id")),null==c||c.classList.toggle("open");var o,n,s=l.getElementsByTagName("i")[0];s&&s.classList.toggle("down"),d.classList.contains("active")?(d.classList.remove("active"),l.classList.contains("treeview-animated-items")?(void 0===n&&(n=500),(o=d).style.transitionProperty="height, margin, padding",o.style.transitionDuration=n+"ms",o.style.boxSizing="border-box",o.style.height=o.offsetHeight+"px",o.offsetHeight,o.style.overflow="hidden",o.style.height="0",o.style.paddingTop="0",o.style.paddingBottom="0",o.style.marginTop="0",o.style.marginBottom="0",window.setTimeout((function(){o.style.display="none",o.style.removeProperty("height"),o.style.removeProperty("padding-top"),o.style.removeProperty("padding-bottom"),o.style.removeProperty("margin-top"),o.style.removeProperty("margin-bottom"),o.style.removeProperty("overflow"),o.style.removeProperty("transition-duration"),o.style.removeProperty("transition-property")}),n)):d.style.display="none"):(d.classList.add("active"),l.classList.contains("treeview-animated-items")?function(t,e){void 0===e&&(e=500),t.style.removeProperty("display");var i=window.getComputedStyle(t).display;"none"===i&&(i="block"),t.style.display=i;var o=t.offsetHeight;t.style.overflow="hidden",t.style.height="0",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.marginTop="0",t.style.marginBottom="0",t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=o+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((function(){t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")}),e)}(d):d.style.display="block")}))):l.addEventListener("click",(function(e){e.stopPropagation(),i(t.click,l.getAttribute("tl-id"))})),null==l||l.addEventListener("dblclick",(function(e){if(e.stopPropagation(),i(t.dblclick,l.getAttribute("tl-id")),s._options.editable){var n=function(){var t=o("span",["input-group"]),e=o("input",["form-control","form-control-sm"]);e.type="text",e.setAttribute("placeholder","Enter new name"),t.append(e);var i=o("button",["btn","btn-outline-secondary","form-control-sm"]);i.type="button";var n=o("i",["fas","fa-save"]);return i.append(n),t.append(i),t}();n.style.height=c.offsetHeight+"px";var r=l.getElementsByTagName("span")[0];r&&c&&(c.append(n),r.style.display="none")}}))},a=this,p=0;p<r.length;p++)l(p)},r.prototype._makeHeader=function(){var t,e,i=function(t,e){void 0===e&&(e=[]);var i=o("h6",e);return i.innerText=t,i}(this._options.header,this._options.headerClass);null===(t=this._el)||void 0===t||t.append(i),null===(e=this._el)||void 0===e||e.append(document.createElement("hr"))},r.prototype._makeItem=function(t,e){var i=o("li",this._options.itemClass);if(t.id?i.setAttribute("tl-id",t.id):i.setAttribute("tl-id",e),t.items){var n=o("a",this._options.listSubClass),r=o("i",this._options.listSubArrowClass);n.append(r);var l=o("span"),a=o("i",s(s([],t.icon,!0),["ic-w","mx-1"],!1));l.append(a),l.append(t.text),n.append(l),i.append(n);var p=o("ul",this._options.subListClass);p.style.display="none";for(var d=0;d<t.items.length;d++)p.append(this._makeItem(t.items[d],e+":"+d.toString()));i.append(p)}else d=o("i",s(s([],t.icon,!0),["ic-w","mx-1"],!1)),i.append(d),i.append(t.text);return i},r.prototype._drawHTML=function(){var t,e=this;this._el&&(this._el.innerHTML=""),this._options.header&&this._makeHeader();var i=o("ul",this._options.listClass);this._options.items.forEach((function(t,o){i.append(e._makeItem(t,o.toString()))})),null===(t=this._el)||void 0===t||t.append(i)},r}();(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw new Error("Unable to locate global object.")}()).TreeList=r})();